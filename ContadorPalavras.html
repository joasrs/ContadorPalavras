<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contar palavras</title>
    <style>
        #txtPalavras {
            width: 500px;
            height: 500px;
        }

        .botao {
            width: 500px;
        }
    </style>
</head>

<body>
    <textarea id="txtPalavras"></textarea>
    <p><input type="checkbox" id="chkConsiderarUnicasLetras"><label for="chkConsiderarUnicasLetras">Considerar uma letra sรณ como palavra</label></p>
    <p><input type="button" class="botao" id="btnContar" value="Contar"></p>
    <p><span id="txtResultadoPalavras"></span></p>
    <p><span id="txtResultadoLetras"></span></p>
    <script>
        document.querySelector("#btnContar").addEventListener("click", IniciarContagem);
        let txtPalavras = document.querySelector("#txtPalavras");
        let txtResultadoPalavras = document.querySelector("#txtResultadoPalavras");
        let txtResultadoLetras = document.querySelector("#txtResultadoLetras");
        let chkConsiderarUnicasLetras = document.querySelector("#chkConsiderarUnicasLetras");

        function IniciarContagem() {
            ContarPalavras();
        }

        function ContarPalavras() {
            let arrPalavras = txtPalavras.value.split(" ");
            let iTamanhoMinimoPalavra = chkConsiderarUnicasLetras.checked ? 0 : 1;
            let iContadorPalavras = 0;
            let iContadorLetras = 0;

            arrPalavras.forEach(e => {
                let iTamanhoPalavra = e.trim().length;

                if( iTamanhoPalavra > 0 ){
                    iContadorLetras += iTamanhoPalavra;
                }

                if (iTamanhoPalavra > iTamanhoMinimoPalavra) {
                    iContadorPalavras++;
                }
            });

            txtResultadoPalavras.innerHTML = `Qtd. palavras encontradas: ${iContadorPalavras}`;
            txtResultadoLetras.innerHTML = `Qtd. letras encontradas: ${iContadorLetras}`;
        }
    </script>
</body>

</html>